{% extends "inventory/base.html" %}

{% block content %}
<h1>ğŸ“Š Dashboard</h1>

<div>
    <h3>Inventory Overview</h3>
    <p>Total Medicines: {{ total_medicines }}</p>
    <p>Total Stock: {{ total_stock }}</p>
</div>

<div>
    <h3>âš ï¸ Low Stock</h3>
    <ul>
        {% for item in low_stock %}
        <li>{{ item.medicine.generic_name }} â€” {{ item.quantity }} left</li>
        {% empty %}
        <li>No low stock medicines</li>
        {% endfor %}
    </ul>
</div>

<div>
    <h3>â³ Near Expiry</h3>
    <ul>
        {% for item in near_expiry %}
        <li>{{ item.medicine.generic_name }} â€” Exp: {{ item.expiration_date }}</li>
        {% empty %}
        <li>No near-expiry medicines</li>
        {% endfor %}
    </ul>
</div>

<!-- <div>
    <h3>ğŸ§  Pending Classifications</h3>
    <ul>
        {% for request in pending_classifications %}
        <li>{{ request.medicine.generic_name }} â€” Suggested: {{ request.predicted_label }}</li>
        {% empty %}
        <li>No pending requests</li>
        {% endfor %}
    </ul>
</div> -->

<div>
    <h3>ğŸ•‘ Recent Transactions</h3>
    <ul>
        {% for tx in recent_transactions %}
        <li>{{ tx.medicine.generic_name }} â€” {{ tx.quantity_dispensed }} â€” {{ tx.transaction_date }}</li>
        {% empty %}
        <li>No transactions yet</li>
        {% endfor %}
    </ul>
</div>

{% endblock %}